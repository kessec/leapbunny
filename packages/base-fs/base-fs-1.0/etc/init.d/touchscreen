#!/bin/sh
# load / unload touchscreen driver if hardware present

HAVE_TOUCH=/sys/devices/platform/lf1000-gpio/touchscreen

case "$1" in
	start)
		logger -s -t "Emerald Base" -p local4.notice  "Starting touch screen driver ..."	
		if [ ! -e ${HAVE_TOUCH} -o `cat ${HAVE_TOUCH}`x = "YESx" ]; then
		    modprobe lf1000_ts2
		fi
;;
	stop)
		logger -s -t "Emerald Base" -p local4.notice  "Stopping touch screen driver ..."	
		modprobe -r lf1000_ts2
		;;
	restart)
		logger -s -t "Emerald Base" -p local4.notice  "Restarting touch screen driver ..."		
		$0 stop
		$0 start
		;;
	*)
		echo "Usage: $0 {start|stop|restart}"
		exit 1
		;;
esac
                                                        
exit 0
