#!/bin/sh

TIMING=/sys/devices/platform/lf1000-nand/timing
if [ ! -e $TIMING ]; then
	exit 0
fi

# ACS,COS,ACC,COH,CAH:  For all but ACC, fastest->slowest is 3,0,1,2
# 0,0,4,0,0 = 4.52MB/sec default
# 3,3,1,1,1 = 5.48MB/sec, but fails for OTP
# 3.3.2,1,1 = 5.24MB/sec, but violates Sam's timings.
# 3,3,3,2,3 = 5.06MB/sec; Sam Freeman's recommended 9/1/09
#
# Redoing numbers after 1.0.1 build on 2/2/2010.
# Test by stopping most processes (AppManager) and run "iospeed"
# Takes into account 32 bit I/O change by Paul Marks, SVN5960/5973
# Sam Freeman recommends new numbers to support Macronix OTP
# Apparently, we were in violation on 9/1, and no one noticed!
# 0,0,4,0,0 = 6.79MB/sec default
# 3,3,1,1,1 = 8.81MB/sec, Base: But fails for SanDisk OTP
# 3.3.2,1,1 = 8.23MB/sec, Base: But violates Sam's timings.
# 3,3,3,2,3 = 8.10MB/sec; Base: recommended 9/1/09
# 3,1,3,1,3 = 7.51MB/sec; Base: recommended 2/2/10
# 3,1,3,1,3 = 3.5 MB/sec; SanDisk OTP: recommended 2/2/10
# 3,1,3,1,3 = 5.3 MB/sec; Macronix OTP: recommended 2/2/10

echo "0,3" > $TIMING
echo "1,3" > $TIMING
echo "2,3" > $TIMING
echo "3,2" > $TIMING
echo "4,3" > $TIMING
