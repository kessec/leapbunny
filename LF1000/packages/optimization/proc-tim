#!/usr/bin/perl
# +++    1.09     2   102     5  2162     3     1  5865 End mount -a
while (<>)
{
    next unless s/.*\+\+\+\s+//;
    ($uptime, $user, $system, $idle, $read, $write, $erase, $lock, $tag, $msg)=
	split /\s+/, $_, 10;
    chomp $msg;
#     print "$uptime, $user, $system, $idle, $read, $write, $erase, $lock, $tag, $msg\n";
    $Duptime = $uptime - $Luptime;
    $Duser = $user - $Luser;
    $Dsystem = $system - $Lsystem;
    $Didle = $idle - $Lidle;
    $Dread = $read - $Lread;
    $Dwrite = $write - $Lwrite;
    $Derase = $erase - $Lerase;
    $Dlock = $lock - $Llock;

    ($Luptime, $Luser, $Lsystem, $Lidle, $Lread, $Lwrite, $Lerase, $Llock)=
	($uptime, $user, $system, $idle, $read, $write, $erase, $lock);

#     printf "%6.2f %4d %4d %4d  %4d %4d %4d %4d %s %s\n", $Duptime, $Duser, $Dsystem, $Didle, $Dread, $Dwrite, $Derase, $Dlock, $tag, $msg;

    $Dtot = $Duptime*100;
    printf "%6.2f %3d %3d %3d  %4d %4d %4d %4d %s %s\n", $Duptime,
	0.5+100*$Duser/$Dtot, 0.5+100*$Dsystem/$Dtot, 0.5+100*$Didle/$Dtot,
	$Dread/$Duptime, $Dwrite/$Duptime, $Derase/$Duptime, $Dlock/$Duptime,
	$tag, $msg;
}


