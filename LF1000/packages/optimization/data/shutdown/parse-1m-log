#!/usr/bin/perl

while (<>)
{
    $power_button = $1, next if /\+\+\+\s*(\d+\.\d+).*Bgn power-button/;
    $umount_a = $1, next if /\+\+\+\s*(\d+\.\d+).*Bgn umount -a/;
    $write = $1, next if /\+\+\+\s*(\d+\.\d+).*Bgn Write 10x100K/;
    $restart = $1, if /(\d+\.\d+).*Restarting system/;
    next unless /Restarting system/;
    # printf ("%5.1f %5.1f (%5.1f)\n", 
    # 	    $power_button, $umount_a, $restart);
    # printf ("%5.1f %5.1f (%5.1f)\n", 
    # 	    $umount_a-$power_button, $restart-$power_button,
    # 	    $restart-$umount_a);
    # printf ("%5.1f,%5.1f\n", $umount_a-$power_button, $restart-$power_button);
    # ($power_button, $umount_a, $restart) = undef;
    printf ("%.1f,%.1f,%.1f\n", 
	   $power_button-$write, $umount_a-$write, $restart-$write);
    # printf ("%.1f %.1f %.1f %.1f\n", $write, $power_button, $umount_a, $restart);
    ($power_button, $umount_a, $write, $restart) = undef;
}
